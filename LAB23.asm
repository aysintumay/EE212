ORG 0
COUNT1 EQU 56319
COUNT2 EQU 60928
COUNT3 EQU 63693
COUNT4 EQU 64615
MOV A, P2
CLR A
MOV P2, A
;SETB P2.5 ;input ON/OFF
;SETB P2.4 ;input ON/OFF

MOV TMOD, #01H ;timer 0 mode 1

GEL:MOV A, P2
CLR ACC.7
CJNE A, #00H, HERE1 ;00
BACK1:MOV TH0, #HIGH COUNT1
	MOV TL0, #LOW COUNT1
	CPL P2.7
	ACALL DELAY1
	SJMP GEL
DELAY1: SETB TR0
AGAIN1:	JNB TF0,AGAIN1
	CLR TR0
	CLR TF0
	RET
	
HERE1: CJNE A, #10H, HERE2 ;01
BACK2:MOV TH0, #HIGH COUNT2
	MOV TL0, #LOW COUNT2
	CPL P2.7
	ACALL DELAY2
	SJMP GEL
DELAY2: SETB TR0
AGAIN2:	JNB TF0,AGAIN2
	CLR TR0
	CLR TF0
	RET

HERE2: CJNE A, #20H, BACK4 ;10
BACK3:MOV TH0, #HIGH COUNT3
	MOV TL0, #LOW COUNT3
	CPL P2.7
	ACALL DELAY3
	SJMP GEL
DELAY3: SETB TR0
AGAIN3:	JNB TF0,AGAIN3
	CLR TR0
	CLR TF0	
	RET

BACK4:MOV TH0, #HIGH COUNT4 ;11
	MOV TL0, #LOW COUNT4
	CPL P2.7
	ACALL DELAY4
	SJMP GEL
DELAY4: SETB TR0
AGAIN4:	JNB TF0,AGAIN4
	CLR TR0
	CLR TF0
	RET
END