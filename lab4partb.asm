ORG 0H
MOV R0, #25
MOV R1, #0
MOV R4, #0
MOV R2, #0
mov r3, #0	
	MOV DPTR, #DATASET
LOOP1:	CLR A
LOOP2: MOV A, R1
	
	MOVC A, @A+DPTR	
	PUSH ACC
	JB ACC.7, NEGATIVE
	MOV A, R3
	JNB ACC.7, POSPOS	
POSNEG:	CPL A
	INC A
	MOV R2, A
	POP A
	CLR C
	SUBB A, R2
	MOV R3,A
	SJMP HERE
	
POSPOS:	MOV R2, A
	POP A
	CLR C
	ADD A, R2
	MOV R3, A
	SJMP HERE
	
NEGATIVE: MOV A, R3
	JB ACC.7, NEGNEG
NEGPOS:	 POP A
	CPL A
	INC A
	CLR C
	MOV R2, A
	MOV A, R3
	SUBB A, R2
	MOV R3, A
	SJMP HERE
	
NEGNEG:	CPL A
	INC A
	MOV R2, A
	POP A
	CPL A
	INC A
	CLR C
	ADD A, R2
	CPL A
	INC A
	MOV R3, A
	
HERE:	INC DPTR
	MOV A, R1
	DJNZ R0, LOOP2
	
	MOV R0, #25	
	 MOV A, R3
	 PUSH ACC	
	JB ACC.7, NEG
	
	clr c
	ADD A, #128
	MOV R4, A
	SJMP TRANS
NEG: 	POP A
	CPL A
	INC A
	CLR C
	MOV R5, A
	MOV A, #128
	clr c
	SUBB A, R5
	MOV R4, A		
	
TRANS:	MOV P2, R4	
	ACALL DELAY
	
	MOV DPTR, #DATASET
	INC R1
	MOV R2, #0
	MOV A, R1
	MOV R4, #0
	MOV R3, #0
	CJNE A,  #250, LOOP2
	
GEL:MOV R1, #0
	MOV dptr, #DATASET
	LJMP LOOP2

	
DELAY: MOV TMOD, #01H
	 MOV TH0,#0F8H
       MOV TL0,#0C8H
	SETB TR0
HEREE: JNB TF0, HEREE
	CLR TF0
	CLR TR0
	
	RET
ORG 300H
DATASET: DB 00H, 02H, 03H, 03H, 03H, 02H, 01H, 00H, 0FEH, 0FEH, 0FEH, 0FFH, 01H, 02H, 03H, 04H, 04H, 04H, 03H, 01H, 00H, 0FFH, 0FFH, 00H, 01H, 03H, 04H, 05H, 06H, 05H, 04H, 03H, 02H, 01H, 00H, 00H, 01H, 03H, 04H, 06H, 06H, 06H, 06H, 04H, 03H, 02H, 01H, 01H, 01H, 03H, 04H, 06H, 07H, 07H, 06H, 05H, 04H, 03H, 01H, 01H, 01H, 02H, 04H, 05H, 06H, 07H, 07H, 06H, 05H, 03H, 02H, 01H, 01H, 02H, 03H, 04H, 06H, 06H, 07H, 06H, 05H, 03H, 02H, 01H, 00H, 01H, 02H, 03H, 04H, 06H, 06H, 06H, 05H, 03H, 02H, 01H, 00H, 00H, 00H, 02H, 03H, 04H, 05H, 05H, 04H, 03H, 02H, 00H, 0FFH, 0FFH, 0FFH, 00H, 01H, 03H, 04H, 04H, 04H, 03H, 01H, 0FFH, 0FEH, 0FDH, 0FDH, 0FEH, 0FFH, 01H, 02H, 03H, 03H, 02H, 01H, 0FFH, 0FDH, 0FCH, 0FCH, 0FCH, 0FDH, 0FFH, 00H, 01H, 01H, 01H, 00H, 0FEH, 0FDH, 0FCH, 0FBH, 0FBH, 0FCH, 0FDH, 0FEH, 00H, 00H, 00H, 0FFH, 0FEH, 0FDH, 0FBH, 0FAH, 0FAH, 0FAH, 0FCH, 0FDH, 0FEH, 0FFH, 00H, 0FFH, 0FEH, 0FDH, 0FBH, 0FAH, 0F9H, 0FAH, 0FAH, 0FCH, 0FDH, 0FEH, 0FFH, 0FFH, 0FEH, 0FDH, 0FBH, 0FAH, 0F9H, 0F9H, 0FAH, 0FBH, 0FCH, 0FEH, 0FFH, 0FFH, 0FFH, 0FDH, 0FCH, 0FBH, 0FAH, 0F9H, 0F9H, 0FAH, 0FCH, 0FDH, 0FFH, 0FFH, 0FFH, 0FEH, 0FDH, 0FCH, 0FAH, 0FAH, 0FAH, 0FAH, 0FCH, 0FDH, 0FFH, 00H, 00H, 0FFH, 0FEH, 0FDH, 0FCH, 0FBH, 0FAH, 0FBH, 0FCH, 0FDH, 0FFH, 00H, 01H, 01H, 00H, 0FFH, 0FDH, 0FCH, 0FCH, 0FCH, 0FDH, 0FEH, 0FFH, 01H, 02H, 02H, 02H, 00H, 0FFH, 0FEH, 0FDH, 0FDH, 0FDH, 0FEH, 00H,00H, 02H, 03H, 03H, 03H, 02H, 01H, 00H, 0FEH, 0FEH, 0FEH, 0FFH, 01H, 02H, 03H, 04H, 04H, 04H, 03H, 01H, 00H, 0FFH, 0FFH, 00H, 01H
END
